{
  "checks": [
      {
          "condition": "((to_int(issue_time)/100)+1) > to_int(time_from)",
          "message": "Время выпуска не может быть позднее начала работы прогноза"
      },
      {
          "condition": "exists(wind_gust) and to_int(wind_gust) != 0 and (to_int(wind_gust) - 5) < to_int(wind_speed)",
          "message": "Порыв ветра должен превышать среднюю скорость ветра на 5 м/c"
      }
  ],

  "common_conditions": [
    {
      "message":"Время выпуска не может быть позднее начала работы прогноза",
      "conditions": [
        {
          "logic_link": "None",
          "left": {
            "type": "expr",
            "field": "issue_time",
            "func": "to_int",
            "expr": "field/100+1"
          },
          "operator": ">",
          "right": {
            "type": "field",
            "field": "time_from",
            "func": "to_int"
          }
        }
      ]
    },
    {
      "message": "Порыв ветра должен превышать среднюю скорость ветра на 5 м/c",
      "conditions": [
        {
          "logic_link": "None",
          "left": {
            "type": "expr",
            "field": "wind_speed",
            "func": "to_int",
            "expr": "field+5"
          },
          "operator": ">",
          "right": {
            "type": "field",
            "field": "wind_gust",
            "func": "to_int"
          }
        },
        {
          "logic_link": "AND",
          "left": {
            "type": "field",
            "field": "wind_gust"
          },
          "operator": "!=",
          "right": {
            "type": "value",
            "value" : "0"
          }
        }
      ]
    }
  ],

  "weather_code_rules" : [
    {
      "code" : "+SN",
      "conditions" : [
        {
          "check": "to_int(visibility) <= 1500",
          "message": "При сильном снеге видимость должна быть ≤ 1500 м"
        },
        {
          "check" : "to_int(wind_speed) < 20",
          "message" : "При сильном снеге не может быть такого ветра"
        }
      ]
    },
    {
      "code" : "FG",
      "conditions" : [
        {
          "check": "to_int(visibility) <= 1000",
          "message": "При тумане видимость должна быть ≤ 1000 м"
        }
      ]
    }
  ],
  
  "conditions" : [
    "visibility",
    "wind_speed",
    "weather",
    "issue_time",
    "time_from",
    "time_to",
    "wind_dir",
    "wind_gust"
  ],

  "intensity" : [
    {
      "intensity" : "",
      "description" : "Отсутсвует характеристика"
    },
    {
      "intensity" : "-",
      "description" : "Слабая"
    },
    {
      "intensity" : "+",
      "description" : "Сильная"
    },
    {
      "intensity" : "VC",
      "description" : "Вблизи"
    }
  ],

  "descriptor" : [
    {
      "descriptor" : "",
      "description" : "Отсутсвует характеристика"
    },
    {
      "descriptor" : "SH",
      "description" : "Ливневой"
    },
    {
      "descriptor" : "DR",
      "description" : "Поземок"
    },
    {
      "descriptor" : "BL",
      "description" : "Низ. метель"
    },
    {
      "descriptor" : "TS",
      "description" : "Гроза"
    },
    {
      "descriptor" : "FZ",
      "description" : "Переохл."
    },
    {
      "descriptor" : "MI",
      "description" : "Тонкий"
    },
    {
      "descriptor" : "BC",
      "description" : "Клочья"
    },
    {
      "descriptor" : "PR",
      "description" : "Частичный"
    }
  ],

  "weather_events" : [
    {
      "event" : "",
      "description" : "Отсутсвует характеристика"
    },
    {
      "event" : "RA",
      "description" : "Дождь"
    },
    {
      "event" : "DZ",
      "description" : "Морось"
    },
    {
      "event" : "SN",
      "description" : "Снег"
    },
    {
      "event" : "SG",
      "description" : "Снежные зерна"
    },
    {
      "event" : "PL",
      "description" : "Ледяная крупа"
    },
    {
      "event" : "IC",
      "description" : "Ледяные кристаллы"
    },
    {
      "event" : "GR",
      "description" : "Град"
    },
    {
      "event" : "GS",
      "description" : "Град или снежн. крупа"
    },
    {
      "event" : "BR",
      "description" : "Дымка"
    },
    {
      "event" : "FG",
      "description" : "Туман"
    },
    {
      "event" : "FU",
      "description" : "Дым"
    },
    {
      "event" : "HZ",
      "description" : "Мгла"
    },
    {
      "event" : "SA",
      "description" : "Песок"
    },
    {
      "event" : "DU",
      "description" : "Пыль"
    },
    {
      "event" : "VA",
      "description" : "Вулк. пепел"
    },
    {
      "event" : "SQ",
      "description" : "Шквал"
    },
    {
      "event" : "SS",
      "description" : "Песчаная буря"
    },
    {
      "event" : "DS",
      "description" : "Пыльн./песч. вихри"
    },
    {
      "event" : "FC",
      "description" : "Смерч"
    }
  ],

  "clouds_amount" : [
    {
      "amount" : "SKC",
      "description" : "Ясное небо"
    },
    {
      "amount" : "CLR",
      "description" : "Ясное небо"
    },
    {
      "amount" : "FEW",
      "description" : "Несколько облаков"
    },
    {
      "amount" : "SCT",
      "description" : "Рассеянные облака"
    },
    {
      "amount" : "BKN",
      "description" : "Значительная облачность"
    },
    {
      "amount" : "OVN",
      "description" : "Полная облачность"
    },
    {
      "amount" : "VV",
      "description" : ""
    }
  ],

  "clouds_type" : [
    {
      "type" : "",
      "description" : "Отсутсвует характеристика"
    },
    {
      "type" : "CB",
      "description" : "Облака кучево-дождевые или кучево-кучевые"
    },
    {
      "type" : "TCU",
      "description" : "Облака кучево-дождевые или кучево-кучевые"
    }
  ],
  "airports" : [
    { "code": "UUEE", "city": "Москва" },
    { "code": "ULLI", "city": "Санкт-Петербург" },
    { "code": "EDDF", "city": "Франкфурт" },
    { "code": "ULMM", "city": "Мурманск" },
    { "code": "ULMK", "city": "Апатиты"}
  ]
}
